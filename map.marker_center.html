<html>
<head>
	<title>Map</title>
	<script src="https://maps.googleapis.com/maps/api/js"></script>
	<script>
		var map = null;
		var markerId = 1;
		function init(){
			map = new google.maps.Map(
				document.getElementById('ma'),
				{
					center:new google.maps.LatLng(0,0),
					zoom:10,
					mapTypeId:google.maps.MapTypeId.ROADMAP
				}
			);
			buttonEvents();
		};
		function buttonEvents(){
			//put your shitty events here, okay!
			document.getElementById("mark")
			.addEventListener("click", function(){
				new google.maps.Marker({
					map:map,
					title: 'Maker - '+markerId,
					position:new google.maps.LatLng(
						map.data.map.center.lat(),
						map.data.map.center.lng()
					),
				});
				markerId++;
				console.log(map.data.map);
			});
		};
		google.maps.event.addDomListener(window, 'load', init);
	</script>

</head>
<body>
	<button id="mark">add marker in center</button>
	<div style="width:100%;height:100%" id="ma"></div>
</body>
</html>
